{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///ngx-currency.umd.min.js","webpack:///webpack/bootstrap c6cbcfb17a5de8eee3ea?d115","webpack:///external {\"root\":[\"ng\",\"core\"],\"commonjs\":\"@angular/core\",\"commonjs2\":\"@angular/core\",\"amd\":\"@angular/core\"}?ad34","webpack:///./src/currency-mask.directive.ts?afcb","webpack:///external {\"root\":[\"ng\",\"forms\"],\"commonjs\":\"@angular/forms\",\"commonjs2\":\"@angular/forms\",\"amd\":\"@angular/forms\"}?5bad","webpack:///./src/currency-mask.module.ts?9b93","webpack:///./src/currency-mask.config.ts?6a18","webpack:///./src/input.handler.ts?6879","webpack:///./src/input.manager.ts?ea36","webpack:///./src/input.service.ts?d722","webpack:///external {\"root\":[\"ng\",\"common\"],\"commonjs\":\"@angular/common\",\"commonjs2\":\"@angular/common\",\"amd\":\"@angular/common\"}?b3ad","webpack:///./index.ts?abad"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_8__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__decorate","decorators","target","key","desc","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","__metadata","k","v","metadata","__param","paramIndex","decorator","core_1","forms_1","currency_mask_config_1","input_handler_1","CURRENCYMASKDIRECTIVE_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","CurrencyMaskDirective","multi","currencyMaskConfig","elementRef","keyValueDiffers","options","optionsTemplate","align","allowNegative","allowZero","decimal","precision","prefix","suffix","thousands","keyValueDiffer","find","create","ngAfterViewInit","nativeElement","style","textAlign","ngDoCheck","diff","inputHandler","updateOptions","assign","ngOnInit","InputHandler","handleBlur","event","getOnModelTouched","apply","handleCut","isChromeAndroid","handleInput","handleKeydown","handleKeypress","handlePaste","test","navigator","userAgent","registerOnChange","callbackFunction","setOnModelChange","registerOnTouched","setOnModelTouched","setDisabledState","disabled","writeValue","setValue","Input","HostListener","Function","Directive","selector","providers","Optional","Inject","CURRENCY_MASK_CONFIG","ElementRef","KeyValueDiffers","common_1","currency_mask_directive_1","NgxCurrencyModule","NgModule","imports","CommonModule","FormsModule","declarations","InjectionToken","input_service_1","htmlInputElement","inputService","InputService","_this","setTimeout","updateFieldValue","onModelChange","keyCode","rawValue","charCodeAt","rawValueLength","rawValueSelectionEnd","inputSelection","selectionEnd","storedRawValueLength","storedRawValue","Math","abs","setCursorPosition","removeNumber","changeToPositive","changeToNegative","canInputMoreNumbers","addNumber","which","charCode","preventDefault","selectionRangeLength","selectionStart","ctrlKey","undefined","getOnModelChange","onModelTouched","setSelectionRange","InputManager","setCursorAt","position","focus","createTextRange","textRange","collapse","moveEnd","moveStart","select","updateValueAndCursor","newRawValue","oldLength","haventReachedMaxLength","maxLength","haveNumberSelected","substring","match","startWithZero","range","document","selection","createRange","parentElement","lenght","normalizedValue","replace","startRange","moveToBookmark","getBookmark","endRange","compareEndPoints","slice","split","set","_storedRawValue","input_manager_1","inputManager","applyMask","keyChar","String","fromCharCode","isNumber","_a","Number","toFixed","onlyNumbers","integerPart","decimalPart","isZero","parseInt","indexOf","clearMask","RegExp","parseFloat","charAt","__export"],"mappings":"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","file":"ngx-currency.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"@angular/forms\"), require(\"@angular/common\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"@angular/forms\", \"@angular/common\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ngxBr\"] = factory(require(\"@angular/core\"), require(\"@angular/forms\"), require(\"@angular/common\"));\n\telse\n\t\troot[\"ngxBr\"] = factory(root[\"ng\"][\"core\"], root[\"ng\"][\"forms\"], root[\"ng\"][\"common\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"@angular/forms\"), require(\"@angular/common\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"@angular/forms\", \"@angular/common\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ngxBr\"] = factory(require(\"@angular/core\"), require(\"@angular/forms\"), require(\"@angular/common\"));\n\telse\n\t\troot[\"ngxBr\"] = factory(root[\"ng\"][\"core\"], root[\"ng\"][\"forms\"], root[\"ng\"][\"common\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 9);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(0);\r\nvar forms_1 = __webpack_require__(2);\r\nvar currency_mask_config_1 = __webpack_require__(4);\r\nvar input_handler_1 = __webpack_require__(5);\r\nexports.CURRENCYMASKDIRECTIVE_VALUE_ACCESSOR = {\r\n    provide: forms_1.NG_VALUE_ACCESSOR,\r\n    useExisting: core_1.forwardRef(function () { return CurrencyMaskDirective; }),\r\n    multi: true\r\n};\r\nvar CurrencyMaskDirective = (function () {\r\n    function CurrencyMaskDirective(currencyMaskConfig, elementRef, keyValueDiffers) {\r\n        this.currencyMaskConfig = currencyMaskConfig;\r\n        this.elementRef = elementRef;\r\n        this.keyValueDiffers = keyValueDiffers;\r\n        this.options = {};\r\n        this.optionsTemplate = {\r\n            align: \"right\",\r\n            allowNegative: true,\r\n            allowZero: true,\r\n            decimal: \".\",\r\n            precision: 2,\r\n            prefix: \"$ \",\r\n            suffix: \"\",\r\n            thousands: \",\"\r\n        };\r\n        if (currencyMaskConfig) {\r\n            this.optionsTemplate = currencyMaskConfig;\r\n        }\r\n        this.keyValueDiffer = keyValueDiffers.find({}).create(null);\r\n    }\r\n    CurrencyMaskDirective.prototype.ngAfterViewInit = function () {\r\n        this.elementRef.nativeElement.style.textAlign = this.options.align ? this.options.align : this.optionsTemplate.align;\r\n    };\r\n    CurrencyMaskDirective.prototype.ngDoCheck = function () {\r\n        if (this.keyValueDiffer.diff(this.options)) {\r\n            this.elementRef.nativeElement.style.textAlign = this.options.align ? this.options.align : this.optionsTemplate.align;\r\n            this.inputHandler.updateOptions(Object.assign({}, this.optionsTemplate, this.options));\r\n        }\r\n    };\r\n    CurrencyMaskDirective.prototype.ngOnInit = function () {\r\n        this.inputHandler = new input_handler_1.InputHandler(this.elementRef.nativeElement, Object.assign({}, this.optionsTemplate, this.options));\r\n    };\r\n    CurrencyMaskDirective.prototype.handleBlur = function (event) {\r\n        this.inputHandler.getOnModelTouched().apply(event);\r\n    };\r\n    CurrencyMaskDirective.prototype.handleCut = function (event) {\r\n        if (!this.isChromeAndroid()) {\r\n            this.inputHandler.handleCut(event);\r\n        }\r\n    };\r\n    CurrencyMaskDirective.prototype.handleInput = function (event) {\r\n        if (this.isChromeAndroid()) {\r\n            this.inputHandler.handleInput(event);\r\n        }\r\n    };\r\n    CurrencyMaskDirective.prototype.handleKeydown = function (event) {\r\n        if (!this.isChromeAndroid()) {\r\n            this.inputHandler.handleKeydown(event);\r\n        }\r\n    };\r\n    CurrencyMaskDirective.prototype.handleKeypress = function (event) {\r\n        if (!this.isChromeAndroid()) {\r\n            this.inputHandler.handleKeypress(event);\r\n        }\r\n    };\r\n    CurrencyMaskDirective.prototype.handlePaste = function (event) {\r\n        if (!this.isChromeAndroid()) {\r\n            this.inputHandler.handlePaste(event);\r\n        }\r\n    };\r\n    CurrencyMaskDirective.prototype.isChromeAndroid = function () {\r\n        return /chrome/i.test(navigator.userAgent) && /android/i.test(navigator.userAgent);\r\n    };\r\n    CurrencyMaskDirective.prototype.registerOnChange = function (callbackFunction) {\r\n        this.inputHandler.setOnModelChange(callbackFunction);\r\n    };\r\n    CurrencyMaskDirective.prototype.registerOnTouched = function (callbackFunction) {\r\n        this.inputHandler.setOnModelTouched(callbackFunction);\r\n    };\r\n    CurrencyMaskDirective.prototype.setDisabledState = function (value) {\r\n        this.elementRef.nativeElement.disabled = value;\r\n    };\r\n    CurrencyMaskDirective.prototype.writeValue = function (value) {\r\n        this.inputHandler.setValue(value);\r\n    };\r\n    return CurrencyMaskDirective;\r\n}());\r\n__decorate([\r\n    core_1.Input(),\r\n    __metadata(\"design:type\", Object)\r\n], CurrencyMaskDirective.prototype, \"options\", void 0);\r\n__decorate([\r\n    core_1.HostListener(\"blur\", [\"$event\"]),\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [Object]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], CurrencyMaskDirective.prototype, \"handleBlur\", null);\r\n__decorate([\r\n    core_1.HostListener(\"cut\", [\"$event\"]),\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [Object]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], CurrencyMaskDirective.prototype, \"handleCut\", null);\r\n__decorate([\r\n    core_1.HostListener(\"input\", [\"$event\"]),\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [Object]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], CurrencyMaskDirective.prototype, \"handleInput\", null);\r\n__decorate([\r\n    core_1.HostListener(\"keydown\", [\"$event\"]),\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [Object]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], CurrencyMaskDirective.prototype, \"handleKeydown\", null);\r\n__decorate([\r\n    core_1.HostListener(\"keypress\", [\"$event\"]),\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [Object]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], CurrencyMaskDirective.prototype, \"handleKeypress\", null);\r\n__decorate([\r\n    core_1.HostListener(\"paste\", [\"$event\"]),\r\n    __metadata(\"design:type\", Function),\r\n    __metadata(\"design:paramtypes\", [Object]),\r\n    __metadata(\"design:returntype\", void 0)\r\n], CurrencyMaskDirective.prototype, \"handlePaste\", null);\r\nCurrencyMaskDirective = __decorate([\r\n    core_1.Directive({\r\n        selector: \"[currencyMask]\",\r\n        providers: [exports.CURRENCYMASKDIRECTIVE_VALUE_ACCESSOR]\r\n    }),\r\n    __param(0, core_1.Optional()), __param(0, core_1.Inject(currency_mask_config_1.CURRENCY_MASK_CONFIG)),\r\n    __metadata(\"design:paramtypes\", [Object, core_1.ElementRef, core_1.KeyValueDiffers])\r\n], CurrencyMaskDirective);\r\nexports.CurrencyMaskDirective = CurrencyMaskDirective;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar common_1 = __webpack_require__(8);\r\nvar forms_1 = __webpack_require__(2);\r\nvar core_1 = __webpack_require__(0);\r\nvar currency_mask_directive_1 = __webpack_require__(1);\r\nvar NgxCurrencyModule = (function () {\r\n    function NgxCurrencyModule() {\r\n    }\r\n    return NgxCurrencyModule;\r\n}());\r\nNgxCurrencyModule = __decorate([\r\n    core_1.NgModule({\r\n        imports: [\r\n            common_1.CommonModule,\r\n            forms_1.FormsModule\r\n        ],\r\n        declarations: [\r\n            currency_mask_directive_1.CurrencyMaskDirective\r\n        ],\r\n        exports: [\r\n            currency_mask_directive_1.CurrencyMaskDirective\r\n        ]\r\n    })\r\n], NgxCurrencyModule);\r\nexports.NgxCurrencyModule = NgxCurrencyModule;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = __webpack_require__(0);\r\nexports.CURRENCY_MASK_CONFIG = new core_1.InjectionToken(\"currency.mask.config\");\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar input_service_1 = __webpack_require__(7);\r\nvar InputHandler = (function () {\r\n    function InputHandler(htmlInputElement, options) {\r\n        this.inputService = new input_service_1.InputService(htmlInputElement, options);\r\n    }\r\n    InputHandler.prototype.handleCut = function (event) {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.inputService.updateFieldValue();\r\n            _this.setValue(_this.inputService.value);\r\n            _this.onModelChange(_this.inputService.value);\r\n        }, 0);\r\n    };\r\n    InputHandler.prototype.handleInput = function (event) {\r\n        var keyCode = this.inputService.rawValue.charCodeAt(this.inputService.rawValue.length - 1);\r\n        var rawValueLength = this.inputService.rawValue.length;\r\n        var rawValueSelectionEnd = this.inputService.inputSelection.selectionEnd;\r\n        var storedRawValueLength = this.inputService.storedRawValue.length;\r\n        this.inputService.rawValue = this.inputService.storedRawValue;\r\n        if (rawValueLength != rawValueSelectionEnd || Math.abs(rawValueLength - storedRawValueLength) != 1) {\r\n            this.setCursorPosition(event);\r\n            return;\r\n        }\r\n        if (rawValueLength < storedRawValueLength) {\r\n            this.inputService.removeNumber(8);\r\n        }\r\n        if (rawValueLength > storedRawValueLength) {\r\n            switch (keyCode) {\r\n                case 43:\r\n                    this.inputService.changeToPositive();\r\n                    break;\r\n                case 45:\r\n                    this.inputService.changeToNegative();\r\n                    break;\r\n                default:\r\n                    if (!this.inputService.canInputMoreNumbers) {\r\n                        return;\r\n                    }\r\n                    this.inputService.addNumber(keyCode);\r\n            }\r\n        }\r\n        this.setCursorPosition(event);\r\n        this.onModelChange(this.inputService.value);\r\n    };\r\n    InputHandler.prototype.handleKeydown = function (event) {\r\n        var keyCode = event.which || event.charCode || event.keyCode;\r\n        if (keyCode == 8 || keyCode == 46 || keyCode == 63272) {\r\n            event.preventDefault();\r\n            var selectionRangeLength = Math.abs(this.inputService.inputSelection.selectionEnd - this.inputService.inputSelection.selectionStart);\r\n            if (selectionRangeLength == 0) {\r\n                this.inputService.removeNumber(keyCode);\r\n                this.onModelChange(this.inputService.value);\r\n            }\r\n            if (selectionRangeLength == this.inputService.rawValue.length) {\r\n                this.setValue(0);\r\n                this.onModelChange(this.inputService.value);\r\n            }\r\n        }\r\n    };\r\n    InputHandler.prototype.handleKeypress = function (event) {\r\n        var keyCode = event.which || event.charCode || event.keyCode;\r\n        if (keyCode === 97 && event.ctrlKey) {\r\n            return;\r\n        }\r\n        switch (keyCode) {\r\n            case undefined:\r\n            case 9:\r\n            case 13:\r\n            case 37:\r\n            case 39:\r\n                return;\r\n            case 43:\r\n                this.inputService.changeToPositive();\r\n                break;\r\n            case 45:\r\n                this.inputService.changeToNegative();\r\n                break;\r\n            default:\r\n                if (this.inputService.canInputMoreNumbers) {\r\n                    var selectionRangeLength = Math.abs(this.inputService.inputSelection.selectionEnd - this.inputService.inputSelection.selectionStart);\r\n                    if (selectionRangeLength == this.inputService.rawValue.length) {\r\n                        this.setValue(0);\r\n                    }\r\n                    this.inputService.addNumber(keyCode);\r\n                }\r\n        }\r\n        event.preventDefault();\r\n        this.onModelChange(this.inputService.value);\r\n    };\r\n    InputHandler.prototype.handlePaste = function (event) {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.inputService.updateFieldValue();\r\n            _this.setValue(_this.inputService.value);\r\n            _this.onModelChange(_this.inputService.value);\r\n        }, 1);\r\n    };\r\n    InputHandler.prototype.updateOptions = function (options) {\r\n        this.inputService.updateOptions(options);\r\n    };\r\n    InputHandler.prototype.getOnModelChange = function () {\r\n        return this.onModelChange;\r\n    };\r\n    InputHandler.prototype.setOnModelChange = function (callbackFunction) {\r\n        this.onModelChange = callbackFunction;\r\n    };\r\n    InputHandler.prototype.getOnModelTouched = function () {\r\n        return this.onModelTouched;\r\n    };\r\n    InputHandler.prototype.setOnModelTouched = function (callbackFunction) {\r\n        this.onModelTouched = callbackFunction;\r\n    };\r\n    InputHandler.prototype.setValue = function (value) {\r\n        this.inputService.value = value;\r\n    };\r\n    InputHandler.prototype.setCursorPosition = function (event) {\r\n        setTimeout(function () {\r\n            event.target.setSelectionRange(event.target.value.length, event.target.value.length);\r\n        }, 0);\r\n    };\r\n    return InputHandler;\r\n}());\r\nexports.InputHandler = InputHandler;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar InputManager = (function () {\r\n    function InputManager(htmlInputElement) {\r\n        this.htmlInputElement = htmlInputElement;\r\n    }\r\n    InputManager.prototype.setCursorAt = function (position) {\r\n        if (this.htmlInputElement.setSelectionRange) {\r\n            this.htmlInputElement.focus();\r\n            this.htmlInputElement.setSelectionRange(position, position);\r\n        }\r\n        else if (this.htmlInputElement.createTextRange) {\r\n            var textRange = this.htmlInputElement.createTextRange();\r\n            textRange.collapse(true);\r\n            textRange.moveEnd(\"character\", position);\r\n            textRange.moveStart(\"character\", position);\r\n            textRange.select();\r\n        }\r\n    };\r\n    InputManager.prototype.updateValueAndCursor = function (newRawValue, oldLength, selectionStart) {\r\n        this.rawValue = newRawValue;\r\n        var newLength = newRawValue.length;\r\n        selectionStart = selectionStart - (oldLength - newLength);\r\n        this.setCursorAt(selectionStart);\r\n    };\r\n    Object.defineProperty(InputManager.prototype, \"canInputMoreNumbers\", {\r\n        get: function () {\r\n            var haventReachedMaxLength = !(this.rawValue.length >= this.htmlInputElement.maxLength && this.htmlInputElement.maxLength >= 0);\r\n            var selectionStart = this.inputSelection.selectionStart;\r\n            var selectionEnd = this.inputSelection.selectionEnd;\r\n            var haveNumberSelected = (selectionStart != selectionEnd && this.htmlInputElement.value.substring(selectionStart, selectionEnd).match(/\\d/)) ? true : false;\r\n            var startWithZero = (this.htmlInputElement.value.substring(0, 1) == \"0\");\r\n            return haventReachedMaxLength || haveNumberSelected || startWithZero;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputManager.prototype, \"inputSelection\", {\r\n        get: function () {\r\n            var selectionStart = 0;\r\n            var selectionEnd = 0;\r\n            if (typeof this.htmlInputElement.selectionStart == \"number\" && typeof this.htmlInputElement.selectionEnd == \"number\") {\r\n                selectionStart = this.htmlInputElement.selectionStart;\r\n                selectionEnd = this.htmlInputElement.selectionEnd;\r\n            }\r\n            else {\r\n                var range = document.selection.createRange();\r\n                if (range && range.parentElement() == this.htmlInputElement) {\r\n                    var lenght = this.htmlInputElement.value.length;\r\n                    var normalizedValue = this.htmlInputElement.value.replace(/\\r\\n/g, \"\\n\");\r\n                    var startRange = this.htmlInputElement.createTextRange();\r\n                    startRange.moveToBookmark(range.getBookmark());\r\n                    var endRange = this.htmlInputElement.createTextRange();\r\n                    endRange.collapse(false);\r\n                    if (startRange.compareEndPoints(\"StartToEnd\", endRange) > -1) {\r\n                        selectionStart = selectionEnd = lenght;\r\n                    }\r\n                    else {\r\n                        selectionStart = -startRange.moveStart(\"character\", -lenght);\r\n                        selectionStart += normalizedValue.slice(0, selectionStart).split(\"\\n\").length - 1;\r\n                        if (startRange.compareEndPoints(\"EndToEnd\", endRange) > -1) {\r\n                            selectionEnd = lenght;\r\n                        }\r\n                        else {\r\n                            selectionEnd = -startRange.moveEnd(\"character\", -lenght);\r\n                            selectionEnd += normalizedValue.slice(0, selectionEnd).split(\"\\n\").length - 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return {\r\n                selectionStart: selectionStart,\r\n                selectionEnd: selectionEnd\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputManager.prototype, \"rawValue\", {\r\n        get: function () {\r\n            return this.htmlInputElement && this.htmlInputElement.value;\r\n        },\r\n        set: function (value) {\r\n            this._storedRawValue = value;\r\n            if (this.htmlInputElement) {\r\n                this.htmlInputElement.value = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputManager.prototype, \"storedRawValue\", {\r\n        get: function () {\r\n            return this._storedRawValue;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return InputManager;\r\n}());\r\nexports.InputManager = InputManager;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar input_manager_1 = __webpack_require__(6);\r\nvar InputService = (function () {\r\n    function InputService(htmlInputElement, options) {\r\n        this.htmlInputElement = htmlInputElement;\r\n        this.options = options;\r\n        this.inputManager = new input_manager_1.InputManager(htmlInputElement);\r\n    }\r\n    InputService.prototype.addNumber = function (keyCode) {\r\n        if (!this.rawValue) {\r\n            this.rawValue = this.applyMask(false, \"0\");\r\n        }\r\n        var keyChar = String.fromCharCode(keyCode);\r\n        var selectionStart = this.inputSelection.selectionStart;\r\n        var selectionEnd = this.inputSelection.selectionEnd;\r\n        this.rawValue = this.rawValue.substring(0, selectionStart) + keyChar + this.rawValue.substring(selectionEnd, this.rawValue.length);\r\n        this.updateFieldValue(selectionStart + 1);\r\n    };\r\n    InputService.prototype.applyMask = function (isNumber, rawValue) {\r\n        var _a = this.options, allowNegative = _a.allowNegative, decimal = _a.decimal, precision = _a.precision, prefix = _a.prefix, suffix = _a.suffix, thousands = _a.thousands;\r\n        rawValue = isNumber ? new Number(rawValue).toFixed(precision) : rawValue;\r\n        var onlyNumbers = rawValue.replace(/[^0-9]/g, \"\");\r\n        if (!onlyNumbers) {\r\n            return \"\";\r\n        }\r\n        var integerPart = onlyNumbers.slice(0, onlyNumbers.length - precision).replace(/^0*/g, \"\").replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousands);\r\n        if (integerPart == \"\") {\r\n            integerPart = \"0\";\r\n        }\r\n        var newRawValue = integerPart;\r\n        var decimalPart = onlyNumbers.slice(onlyNumbers.length - precision);\r\n        if (precision > 0) {\r\n            newRawValue += decimal + decimalPart;\r\n        }\r\n        var isZero = parseInt(integerPart) == 0 && (parseInt(decimalPart) == 0 || decimalPart == \"\");\r\n        var operator = (rawValue.indexOf(\"-\") > -1 && allowNegative && !isZero) ? \"-\" : \"\";\r\n        return operator + prefix + newRawValue + suffix;\r\n    };\r\n    InputService.prototype.clearMask = function (rawValue) {\r\n        var value = (rawValue || \"0\").replace(this.options.prefix, \"\").replace(this.options.suffix, \"\");\r\n        if (this.options.thousands) {\r\n            value = value.replace(new RegExp(\"\\\\\" + this.options.thousands, \"g\"), \"\");\r\n        }\r\n        if (this.options.decimal) {\r\n            value = value.replace(this.options.decimal, \".\");\r\n        }\r\n        return parseFloat(value);\r\n    };\r\n    InputService.prototype.changeToNegative = function () {\r\n        if (this.options.allowNegative && this.rawValue != \"\" && this.rawValue.charAt(0) != \"-\" && this.value != 0) {\r\n            this.rawValue = \"-\" + this.rawValue;\r\n        }\r\n    };\r\n    InputService.prototype.changeToPositive = function () {\r\n        this.rawValue = this.rawValue.replace(\"-\", \"\");\r\n    };\r\n    InputService.prototype.removeNumber = function (keyCode) {\r\n        var selectionEnd = this.inputSelection.selectionEnd;\r\n        var selectionStart = this.inputSelection.selectionStart;\r\n        if (selectionStart > this.rawValue.length - this.options.suffix.length) {\r\n            selectionEnd = this.rawValue.length - this.options.suffix.length;\r\n            selectionStart = this.rawValue.length - this.options.suffix.length;\r\n        }\r\n        selectionEnd = keyCode == 46 || keyCode == 63272 ? selectionEnd + 1 : selectionEnd;\r\n        selectionStart = keyCode == 8 ? selectionStart - 1 : selectionStart;\r\n        this.rawValue = this.rawValue.substring(0, selectionStart) + this.rawValue.substring(selectionEnd, this.rawValue.length);\r\n        this.updateFieldValue(selectionStart);\r\n    };\r\n    InputService.prototype.updateFieldValue = function (selectionStart) {\r\n        var newRawValue = this.applyMask(false, this.rawValue || \"\");\r\n        selectionStart = selectionStart == undefined ? this.rawValue.length : selectionStart;\r\n        this.inputManager.updateValueAndCursor(newRawValue, this.rawValue.length, selectionStart);\r\n    };\r\n    InputService.prototype.updateOptions = function (options) {\r\n        var value = this.value;\r\n        this.options = options;\r\n        this.value = value;\r\n    };\r\n    Object.defineProperty(InputService.prototype, \"canInputMoreNumbers\", {\r\n        get: function () {\r\n            return this.inputManager.canInputMoreNumbers;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputService.prototype, \"inputSelection\", {\r\n        get: function () {\r\n            return this.inputManager.inputSelection;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputService.prototype, \"rawValue\", {\r\n        get: function () {\r\n            return this.inputManager.rawValue;\r\n        },\r\n        set: function (value) {\r\n            this.inputManager.rawValue = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputService.prototype, \"storedRawValue\", {\r\n        get: function () {\r\n            return this.inputManager.storedRawValue;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputService.prototype, \"value\", {\r\n        get: function () {\r\n            return this.clearMask(this.rawValue);\r\n        },\r\n        set: function (value) {\r\n            this.rawValue = this.applyMask(true, \"\" + value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return InputService;\r\n}());\r\nexports.InputService = InputService;\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(__webpack_require__(1));\r\n__export(__webpack_require__(3));\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// ngx-currency.umd.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c6cbcfb17a5de8eee3ea","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":[\"ng\",\"core\"],\"commonjs\":\"@angular/core\",\"commonjs2\":\"@angular/core\",\"amd\":\"@angular/core\"}\n// module id = 0\n// module chunks = 0 1","import {\n  AfterViewInit,\n  Directive,\n  DoCheck,\n  ElementRef,\n  forwardRef,\n  HostListener,\n  Inject,\n  KeyValueDiffer,\n  KeyValueDiffers,\n  Input,\n  OnInit,\n  Optional\n} from \"@angular/core\";\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from \"@angular/forms\";\n\nimport {CurrencyMaskConfig, CURRENCY_MASK_CONFIG} from \"./currency-mask.config\";\nimport {InputHandler} from \"./input.handler\";\n\nexport const CURRENCYMASKDIRECTIVE_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => CurrencyMaskDirective),\n  multi: true\n};\n\n@Directive({\n  selector: \"[currencyMask]\",\n  providers: [CURRENCYMASKDIRECTIVE_VALUE_ACCESSOR]\n})\nexport class CurrencyMaskDirective implements AfterViewInit, ControlValueAccessor, DoCheck, OnInit {\n\n  @Input() options: any = {};\n\n  public inputHandler: InputHandler;\n  public keyValueDiffer: KeyValueDiffer<any, any>;\n\n  public optionsTemplate = {\n    align: \"right\",\n    allowNegative: true,\n    allowZero: true,\n    decimal: \".\",\n    precision: 2,\n    prefix: \"$ \",\n    suffix: \"\",\n    thousands: \",\"\n  };\n\n  constructor(@Optional() @Inject(CURRENCY_MASK_CONFIG) private currencyMaskConfig: CurrencyMaskConfig, private elementRef: ElementRef, private keyValueDiffers: KeyValueDiffers) {\n    if (currencyMaskConfig) {\n      this.optionsTemplate = currencyMaskConfig;\n    }\n\n    this.keyValueDiffer = keyValueDiffers.find({}).create(null);\n  }\n\n  ngAfterViewInit() {\n    this.elementRef.nativeElement.style.textAlign = this.options.align ? this.options.align : this.optionsTemplate.align;\n  }\n\n  ngDoCheck() {\n    if (this.keyValueDiffer.diff(this.options)) {\n      this.elementRef.nativeElement.style.textAlign = this.options.align ? this.options.align : this.optionsTemplate.align;\n      this.inputHandler.updateOptions((<any>Object).assign({}, this.optionsTemplate, this.options));\n    }\n  }\n\n  ngOnInit() {\n    this.inputHandler = new InputHandler(this.elementRef.nativeElement, (<any>Object).assign({}, this.optionsTemplate, this.options));\n  }\n\n  @HostListener(\"blur\", [\"$event\"])\n  handleBlur(event: any) {\n    this.inputHandler.getOnModelTouched().apply(event);\n  }\n\n  @HostListener(\"cut\", [\"$event\"])\n  handleCut(event: any) {\n    if (!this.isChromeAndroid()) {\n      this.inputHandler.handleCut(event);\n    }\n  }\n\n  @HostListener(\"input\", [\"$event\"])\n  handleInput(event: any) {\n    if (this.isChromeAndroid()) {\n      this.inputHandler.handleInput(event);\n    }\n  }\n\n  @HostListener(\"keydown\", [\"$event\"])\n  handleKeydown(event: any) {\n    if (!this.isChromeAndroid()) {\n      this.inputHandler.handleKeydown(event);\n    }\n  }\n\n  @HostListener(\"keypress\", [\"$event\"])\n  handleKeypress(event: any) {\n    if (!this.isChromeAndroid()) {\n      this.inputHandler.handleKeypress(event);\n    }\n  }\n\n  @HostListener(\"paste\", [\"$event\"])\n  handlePaste(event: any) {\n    if (!this.isChromeAndroid()) {\n      this.inputHandler.handlePaste(event);\n    }\n  }\n\n  isChromeAndroid(): boolean {\n    return /chrome/i.test(navigator.userAgent) && /android/i.test(navigator.userAgent);\n  }\n\n  registerOnChange(callbackFunction: Function): void {\n    this.inputHandler.setOnModelChange(callbackFunction);\n  }\n\n  registerOnTouched(callbackFunction: Function): void {\n    this.inputHandler.setOnModelTouched(callbackFunction);\n  }\n\n  setDisabledState(value: boolean): void {\n    this.elementRef.nativeElement.disabled = value;\n  }\n\n  writeValue(value: number): void {\n    this.inputHandler.setValue(value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader?emitErrors=true&failOnHint=true!./src/currency-mask.directive.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":[\"ng\",\"forms\"],\"commonjs\":\"@angular/forms\",\"commonjs2\":\"@angular/forms\",\"amd\":\"@angular/forms\"}\n// module id = 2\n// module chunks = 0 1","import {CommonModule} from \"@angular/common\";\nimport {FormsModule} from \"@angular/forms\";\nimport {NgModule} from \"@angular/core\";\n\nimport {CurrencyMaskDirective} from \"./currency-mask.directive\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule\n  ],\n  declarations: [\n    CurrencyMaskDirective\n  ],\n  exports: [\n    CurrencyMaskDirective\n  ]\n})\nexport class NgxCurrencyModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader?emitErrors=true&failOnHint=true!./src/currency-mask.module.ts","import {InjectionToken} from \"@angular/core\";\n\nexport interface CurrencyMaskConfig {\n  align: string;\n  allowNegative: boolean;\n  allowZero: boolean;\n  decimal: string;\n  precision: number;\n  prefix: string;\n  suffix: string;\n  thousands: string;\n}\n\nexport let CURRENCY_MASK_CONFIG = new InjectionToken<CurrencyMaskConfig>(\"currency.mask.config\");\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader?emitErrors=true&failOnHint=true!./src/currency-mask.config.ts","import {InputService} from \"./input.service\";\n\nexport class InputHandler {\n\n  private inputService: InputService;\n  private onModelChange: Function;\n  private onModelTouched: Function;\n\n  constructor(htmlInputElement: HTMLInputElement, options: any) {\n    this.inputService = new InputService(htmlInputElement, options);\n  }\n\n  handleCut(event: any): void {\n    setTimeout(() => {\n      this.inputService.updateFieldValue();\n      this.setValue(this.inputService.value);\n      this.onModelChange(this.inputService.value);\n    }, 0);\n  }\n\n  handleInput(event: any): void {\n    let keyCode = this.inputService.rawValue.charCodeAt(this.inputService.rawValue.length - 1);\n    let rawValueLength = this.inputService.rawValue.length;\n    let rawValueSelectionEnd = this.inputService.inputSelection.selectionEnd;\n    let storedRawValueLength = this.inputService.storedRawValue.length;\n    this.inputService.rawValue = this.inputService.storedRawValue;\n\n    if (rawValueLength != rawValueSelectionEnd || Math.abs(rawValueLength - storedRawValueLength) != 1) {\n      this.setCursorPosition(event);\n      return;\n    }\n\n    if (rawValueLength < storedRawValueLength) {\n      this.inputService.removeNumber(8);\n    }\n\n    if (rawValueLength > storedRawValueLength) {\n      switch (keyCode) {\n        case 43:\n          this.inputService.changeToPositive();\n          break;\n        case 45:\n          this.inputService.changeToNegative();\n          break;\n        default:\n          if (!this.inputService.canInputMoreNumbers) {\n            return;\n          }\n\n          this.inputService.addNumber(keyCode);\n      }\n    }\n\n    this.setCursorPosition(event);\n    this.onModelChange(this.inputService.value);\n  }\n\n  handleKeydown(event: any): void {\n    let keyCode = event.which || event.charCode || event.keyCode;\n\n    if (keyCode == 8 || keyCode == 46 || keyCode == 63272) {\n      event.preventDefault();\n      let selectionRangeLength = Math.abs(this.inputService.inputSelection.selectionEnd - this.inputService.inputSelection.selectionStart);\n\n      if (selectionRangeLength == 0) {\n        this.inputService.removeNumber(keyCode);\n        this.onModelChange(this.inputService.value);\n      }\n\n      if (selectionRangeLength == this.inputService.rawValue.length) {\n        this.setValue(0);\n        this.onModelChange(this.inputService.value);\n      }\n    }\n  }\n\n  handleKeypress(event: any): void {\n    let keyCode = event.which || event.charCode || event.keyCode;\n\n    if (keyCode === 97 && event.ctrlKey) {\n      return;\n    }\n\n    switch (keyCode) {\n      case undefined:\n      case 9:\n      case 13:\n      case 37:\n      case 39:\n        return;\n      case 43:\n        this.inputService.changeToPositive();\n        break;\n      case 45:\n        this.inputService.changeToNegative();\n        break;\n      default:\n        if (this.inputService.canInputMoreNumbers) {\n          let selectionRangeLength = Math.abs(this.inputService.inputSelection.selectionEnd - this.inputService.inputSelection.selectionStart);\n\n          if (selectionRangeLength == this.inputService.rawValue.length) {\n            this.setValue(0);\n          }\n\n          this.inputService.addNumber(keyCode);\n        }\n    }\n\n    event.preventDefault();\n    this.onModelChange(this.inputService.value);\n  }\n\n  handlePaste(event: any): void {\n    setTimeout(() => {\n      this.inputService.updateFieldValue();\n      this.setValue(this.inputService.value);\n      this.onModelChange(this.inputService.value);\n    }, 1);\n  }\n\n  updateOptions(options: any): void {\n    this.inputService.updateOptions(options);\n  }\n\n  getOnModelChange(): Function {\n    return this.onModelChange;\n  }\n\n  setOnModelChange(callbackFunction: Function): void {\n    this.onModelChange = callbackFunction;\n  }\n\n  getOnModelTouched(): Function {\n    return this.onModelTouched;\n  }\n\n  setOnModelTouched(callbackFunction: Function) {\n    this.onModelTouched = callbackFunction;\n  }\n\n  setValue(value: number): void {\n    this.inputService.value = value;\n  }\n\n  private setCursorPosition(event: any): void {\n    setTimeout(function () {\n      event.target.setSelectionRange(event.target.value.length, event.target.value.length);\n    }, 0);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader?emitErrors=true&failOnHint=true!./src/input.handler.ts","export class InputManager {\n\n  private _storedRawValue: string;\n\n  constructor(private htmlInputElement: any) {\n  }\n\n  setCursorAt(position: number): void {\n    if (this.htmlInputElement.setSelectionRange) {\n      this.htmlInputElement.focus();\n      this.htmlInputElement.setSelectionRange(position, position);\n    } else if (this.htmlInputElement.createTextRange) {\n      let textRange = this.htmlInputElement.createTextRange();\n      textRange.collapse(true);\n      textRange.moveEnd(\"character\", position);\n      textRange.moveStart(\"character\", position);\n      textRange.select();\n    }\n  }\n\n  updateValueAndCursor(newRawValue: string, oldLength: number, selectionStart: number): void {\n    this.rawValue = newRawValue;\n    let newLength = newRawValue.length;\n    selectionStart = selectionStart - (oldLength - newLength);\n    this.setCursorAt(selectionStart);\n  }\n\n  get canInputMoreNumbers(): boolean {\n    let haventReachedMaxLength = !(this.rawValue.length >= this.htmlInputElement.maxLength && this.htmlInputElement.maxLength >= 0);\n    let selectionStart = this.inputSelection.selectionStart;\n    let selectionEnd = this.inputSelection.selectionEnd;\n    let haveNumberSelected = (selectionStart != selectionEnd && this.htmlInputElement.value.substring(selectionStart, selectionEnd).match(/\\d/)) ? true : false;\n    let startWithZero = (this.htmlInputElement.value.substring(0, 1) == \"0\");\n    return haventReachedMaxLength || haveNumberSelected || startWithZero;\n  }\n\n  get inputSelection(): any {\n    let selectionStart = 0;\n    let selectionEnd = 0;\n\n    if (typeof this.htmlInputElement.selectionStart == \"number\" && typeof this.htmlInputElement.selectionEnd == \"number\") {\n      selectionStart = this.htmlInputElement.selectionStart;\n      selectionEnd = this.htmlInputElement.selectionEnd;\n    } else {\n      let range = (<any>document).selection.createRange();\n\n      if (range && range.parentElement() == this.htmlInputElement) {\n        let lenght = this.htmlInputElement.value.length;\n        let normalizedValue = this.htmlInputElement.value.replace(/\\r\\n/g, \"\\n\");\n        let startRange = this.htmlInputElement.createTextRange();\n        startRange.moveToBookmark(range.getBookmark());\n        let endRange = this.htmlInputElement.createTextRange();\n        endRange.collapse(false);\n\n        if (startRange.compareEndPoints(\"StartToEnd\", endRange) > -1) {\n          selectionStart = selectionEnd = lenght;\n        } else {\n          selectionStart = -startRange.moveStart(\"character\", -lenght);\n          selectionStart += normalizedValue.slice(0, selectionStart).split(\"\\n\").length - 1;\n\n          if (startRange.compareEndPoints(\"EndToEnd\", endRange) > -1) {\n            selectionEnd = lenght;\n          } else {\n            selectionEnd = -startRange.moveEnd(\"character\", -lenght);\n            selectionEnd += normalizedValue.slice(0, selectionEnd).split(\"\\n\").length - 1;\n          }\n        }\n      }\n    }\n\n    return {\n      selectionStart: selectionStart,\n      selectionEnd: selectionEnd\n    };\n  }\n\n  get rawValue(): string {\n    return this.htmlInputElement && this.htmlInputElement.value;\n  }\n\n  set rawValue(value: string) {\n    this._storedRawValue = value;\n\n    if (this.htmlInputElement) {\n      this.htmlInputElement.value = value;\n    }\n  }\n\n  get storedRawValue(): string {\n    return this._storedRawValue;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader?emitErrors=true&failOnHint=true!./src/input.manager.ts","import {InputManager} from \"./input.manager\";\n\nexport class InputService {\n\n  private inputManager: InputManager;\n\n  constructor(private htmlInputElement: any, private options: any) {\n    this.inputManager = new InputManager(htmlInputElement);\n  }\n\n  addNumber(keyCode: number): void {\n    if (!this.rawValue) {\n      this.rawValue = this.applyMask(false, \"0\");\n    }\n\n    let keyChar = String.fromCharCode(keyCode);\n    let selectionStart = this.inputSelection.selectionStart;\n    let selectionEnd = this.inputSelection.selectionEnd;\n    this.rawValue = this.rawValue.substring(0, selectionStart) + keyChar + this.rawValue.substring(selectionEnd, this.rawValue.length);\n    this.updateFieldValue(selectionStart + 1);\n  }\n\n  applyMask(isNumber: boolean, rawValue: string): string {\n    let {allowNegative, decimal, precision, prefix, suffix, thousands} = this.options;\n    rawValue = isNumber ? new Number(rawValue).toFixed(precision) : rawValue;\n    let onlyNumbers = rawValue.replace(/[^0-9]/g, \"\");\n\n    if (!onlyNumbers) {\n      return \"\";\n    }\n\n    let integerPart = onlyNumbers.slice(0, onlyNumbers.length - precision).replace(/^0*/g, \"\").replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousands);\n\n    if (integerPart == \"\") {\n      integerPart = \"0\";\n    }\n\n    let newRawValue = integerPart;\n    let decimalPart = onlyNumbers.slice(onlyNumbers.length - precision);\n\n    if (precision > 0) {\n      newRawValue += decimal + decimalPart;\n    }\n\n    let isZero = parseInt(integerPart) == 0 && (parseInt(decimalPart) == 0 || decimalPart == \"\");\n    let operator = (rawValue.indexOf(\"-\") > -1 && allowNegative && !isZero) ? \"-\" : \"\";\n    return operator + prefix + newRawValue + suffix;\n  }\n\n  clearMask(rawValue: string): number {\n    let value = (rawValue || \"0\").replace(this.options.prefix, \"\").replace(this.options.suffix, \"\");\n\n    if (this.options.thousands) {\n      value = value.replace(new RegExp(\"\\\\\" + this.options.thousands, \"g\"), \"\");\n    }\n\n    if (this.options.decimal) {\n      value = value.replace(this.options.decimal, \".\");\n    }\n\n    return parseFloat(value);\n  }\n\n  changeToNegative(): void {\n    if (this.options.allowNegative && this.rawValue != \"\" && this.rawValue.charAt(0) != \"-\" && this.value != 0) {\n      this.rawValue = \"-\" + this.rawValue;\n    }\n  }\n\n  changeToPositive(): void {\n    this.rawValue = this.rawValue.replace(\"-\", \"\");\n  }\n\n  removeNumber(keyCode: number): void {\n    let selectionEnd = this.inputSelection.selectionEnd;\n    let selectionStart = this.inputSelection.selectionStart;\n\n    if (selectionStart > this.rawValue.length - this.options.suffix.length) {\n      selectionEnd = this.rawValue.length - this.options.suffix.length;\n      selectionStart = this.rawValue.length - this.options.suffix.length;\n    }\n\n    selectionEnd = keyCode == 46 || keyCode == 63272 ? selectionEnd + 1 : selectionEnd;\n    selectionStart = keyCode == 8 ? selectionStart - 1 : selectionStart;\n    this.rawValue = this.rawValue.substring(0, selectionStart) + this.rawValue.substring(selectionEnd, this.rawValue.length);\n    this.updateFieldValue(selectionStart);\n  }\n\n  updateFieldValue(selectionStart?: number): void {\n    let newRawValue = this.applyMask(false, this.rawValue || \"\");\n    selectionStart = selectionStart == undefined ? this.rawValue.length : selectionStart;\n    this.inputManager.updateValueAndCursor(newRawValue, this.rawValue.length, selectionStart);\n  }\n\n  updateOptions(options: any): void {\n    let value: number = this.value;\n    this.options = options;\n    this.value = value;\n  }\n\n  get canInputMoreNumbers(): boolean {\n    return this.inputManager.canInputMoreNumbers;\n  }\n\n  get inputSelection(): any {\n    return this.inputManager.inputSelection;\n  }\n\n  get rawValue(): string {\n    return this.inputManager.rawValue;\n  }\n\n  set rawValue(value: string) {\n    this.inputManager.rawValue = value;\n  }\n\n  get storedRawValue(): string {\n    return this.inputManager.storedRawValue;\n  }\n\n  get value(): number {\n    return this.clearMask(this.rawValue);\n  }\n\n  set value(value: number) {\n    this.rawValue = this.applyMask(true, \"\" + value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader?emitErrors=true&failOnHint=true!./src/input.service.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":[\"ng\",\"common\"],\"commonjs\":\"@angular/common\",\"commonjs2\":\"@angular/common\",\"amd\":\"@angular/common\"}\n// module id = 8\n// module chunks = 0 1","export * from \"./src/currency-mask.directive\";\nexport * from \"./src/currency-mask.module\";\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader?emitErrors=true&failOnHint=true!./index.ts"],"sourceRoot":""}